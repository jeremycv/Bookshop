<table border='0' width=100% cellspacing='0' cellpadding='0'>
	<tr>
		<td width=70%><h1>Editing Box</h1></td><td align='right'></td>
	</tr>
</table>

<%# render :partial => "form" %>

<table width=90% border='0' cellpadding='0' cellspacing='0'>
	<% form_for(@box) do | f | %>
		<tr>
				<td width=40%>&nbsp;</td><td width=60%>&nbsp;</td>
		</tr>
		
		<tr>
			<td colspan=2 class='curved'>Box details</td>
		</tr>
		
		<tr>
			<td class="Label" valign=top><%= f.label :barcode, "Barcode:" %></td>
			<td class="Field"><%=h @box.barcode %></td>
		</tr>
		
		<tr>
			<td class="Label" valign="top"><%= f.label :description, "Briefly describe the contents of this box:" %></td>
			<td class="Field"><%= f.text_area :description, :size => "78x3" %></td>
		</tr>
		
		<tr>
			<td class="Label" valign="top"><%= f.label :location, "Current location of the box?" %></td>
			<td class="Field"><%= f.text_field :location, :size => 30 %></td>
		</tr>
		
		<%# The next 5 lines retrieves the values corresponding to the specified keyword and then populates the listbox %>
		<% values = [] %>
		<% results = List.find(:all, :conditions => {:keyword => 'Classification'}).collect {| c | c.value } %>
		<% results.each do | c | %>
			<% values = c.split(/\r\n/) %>
		<% end %>
		<tr>
			<td class="Label" valign="top"><%= f.label :classification, "Classification:" %></td>
			<td class="Field"><%= f.select :classification, [""] + values, :size => 30 %></td>
		</tr>
		
		<tr>
			<td class="Label" valign=top><%= f.label :status, "Status:" %></td>
			<td class="Field"><%=h @box.status %></td>
		</tr>

		<tr>
			<td>&nbsp;</td>
			<td align=right><p><%= f.submit "Submit" %></p></td>
		</tr>
	<% end %>
</table>

<%= render :partial => "books" %>
